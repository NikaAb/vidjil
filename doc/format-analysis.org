#+TITLE: .analysis format


descrption of the .analysis file format used for vidjil browser


* Analysis file example

#+BEGIN_SRC js
    {
        "custom": [
            {
                "window": "ATGTGAGTAT",
                "sequence": "ATGACTCTGGAGTCTATTACTGTGCCACCTGGGATGTGAGTATTATAAGAAAC",
                "tag": "0"
                "name": "plop",
                "expected": "0.1"
            }
        ],


        "cluster": [
            {
                "l": "ACTGTGCCACCTGGGATGTGAGTATTATAAGAAACTCTTT",
                "f": "TGCCACCTGGGATGTGAGTATTATAAAGAAACTCTTTGGC"
            }
        ],


        "time": [
            "diag",
            "follow up 1"
        ],

        "time_order": [
            0,
            1
        ],

        "tag": {
            "0" : "custom tag 0",
            "5" : "spike"
        }
    }
#+END_SRC

* general layout

#+BEGIN_SRC js
    "custom" : [] ,   // clone's specific customizations (see custom field)
    "cluster": [],    // manual cluster  (see cluster field)
    "time" : [],      // custom time name (list length must match the number of time point)
    "time_order": [], // custom time order (increasing order by default),
    "tag": []         // custom tag name (see tag field)
#+END_SRC

* custom field

a set of parameters who describe a clone (minimum fields required "window" and/or "sequence")

#+BEGIN_SRC js
    "window": "",    // clone's window ( a window is a short specific nt sequence who cover the CDR3 junction / for clntab window == clone sequence)
    "sequence": "",  // clone's sequence
    "tag": "",       // tag id from 0 to 7
    "name": "",      // custom name, will replace the clone default name
    "expected": ""   // expected abundance of this clone (between 0 and 1), this will create a normalization option in the settings browser menu
#+END_SRC

* cluster field

clone to be merged (in a near future it will be possible to put a list of windows instead of pair of windows)

#+BEGIN_SRC js
    "l": "",         // first clone's window (will be used as a representative for the cluster)
    "f": ""          // second clone's window
#+END_SRC

* tag field

contain pairs of  key/value 

#+BEGIN_SRC js
    "key" : "value"  // "key" is the tag id from 0 to 7 and "value" is the custom tag name attributed
#+END_SRC
