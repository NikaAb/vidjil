<!doctype html>
<html>

  <head>
  
	<meta charset="utf-8">
	<title>Vidjil</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">  
	<link rel="stylesheet" media="screen" type="text/css" href="css/colorpicker.css" />
	<!--[if lte IE 8]><script src="js/r2d3.js" charset="utf-8"></script><![endif]-->
	<!--[if gte IE 9]><!-->
	<script type="text/javascript" src='js/d3.v2.js'></script>
	<!--<![endif]-->
	<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	
	<script type="text/javascript" src='js/file.js'></script>
	<script type="text/javascript" src='js/germline.js'></script>
	<script type="text/javascript" src='js/segmenter.js'></script>
	<script type="text/javascript" src='js/info.js'></script>
	<script type="text/javascript" src='js/model.js'></script>
	<script type="text/javascript" src='js/vidjil-style.js'></script>
	<script type="text/javascript" src='js/crossDomain.js'></script>
	
	<!--
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
	-->
	
  </head>

  <body onload="initCoef()">
  
    <div id="file_menu" >
    	<h2>Load data and analysis</h2>
    	
	data file:<br/>
	<input id="upload_json" type="file" name="json" /></br></br>
	
	analysis file (optional) :<br/>
	<input id="upload_pref" type="file" name="pref" /></br></br>
		
	load only clones in the top <select id="limit_top" name="limit_top">
	  <option value="10">10</option>	
	  <option value="30">30</option>
	  <option value="100">100</option>
	</select> </br></br>
	
	<button onclick="loadJson();">start</button> 
	<button onclick="cancel();">cancel</button> 
    </div>
    
    <div id="analysis_menu" >
    	<h2>analysis menu</h2>
    	
	Analysis file :<br/>
	<input id="upload_analysis" type="file" name="analysis" /></br></br>
		
	<button onclick="loadJsonAnalysis();">start</button> 
	<button onclick="cancel();">cancel</button> 
    </div>
    
    <div id="top-container">
    
      <div class="menu" onmouseover="showSelector('loadSelector');"> save/load 
        <div id="loadSelector" class="selector">
	  <a class="buttonSelector" onclick="javascript:loadData()">load data/analysis</a>
	  <a class="buttonSelector" onclick="javascript:loadAnalysis()">load analysis</a>
	  <a class="buttonSelector" onclick="javascript:savePref()">save analysis</a>
          <a class="buttonSelector" onclick="javascript:resetAnalysis()">reset analysis</a>
	  <a class="buttonSelector" onclick="javascript:reset()">reset all</a>
	</div>
      </div>
      
    
      <div class="menu" onmouseover="showSelector('colorSelector');" > color 
	<div id="colorSelector" class="selector">
	  <a class="buttonSelector" onclick="changeColorMethod('V');">V</a>
	  <a class="buttonSelector" onclick="changeColorMethod('J');">J</a>
	  <a class="buttonSelector" onclick="changeColorMethod('N');">N</a>
	  <a class="buttonSelector" onclick="changeColorMethod('Tag');">tag</a>
	  <a class="buttonSelector" onclick="changeColorMethod('abundance');">abundance (Diag)</a>
	</div>
      </div>
      
      <div class="menu" onmouseover="showSelector('groupSelector');"> regroup 
      	<div id="groupSelector" class="selector">
	  <a class="buttonSelector" onclick="changeSplitMethod('vj1');">alleles</a> 
	  <a class="buttonSelector" onclick="changeSplitMethod('vj2');">genes</a> 
	  <a class="buttonSelector" onclick="changeSplitMethod('Nsize');">N length</a> 
	  <a class="buttonSelector" onclick="changeSplitMethod(' ');">abundance</a> 
	</div>
      </div>
      
      <div id="norm" class="menu" onmouseover="showSelector('ratioSelector');"> normalize 
        <div id="ratioSelector" class="selector">
        <!--TODO generer automatiquement-->
	  <a class="buttonSelector" onclick="changeRatio(0);">none</a> 
	  <a class="buttonSelector" onclick="changeRatio(1);">highest standard</a> 
	  <a class="buttonSelector" onclick="changeRatio(2);">all standard</a> 
	</div>
      </div>
      
      <div style="float: right" class="menu" onmouseover="showSelector('paletteSelector');"> palette 
        <div id="paletteSelector" class="selector">
	  <!-- <a class="buttonSelector" onclick="changeStyle(whiteStyle);">white</a>
	  <a class="buttonSelector" onclick="changeStyle(blackStyle);">black</a> -->
	  <a class="buttonSelector" onclick="changeStyle(solarizeD);">dark</a>
	  <a class="buttonSelector" onclick="changeStyle(solarizeL);">light</a>
	</div>
      </div>
      
      
      <span></span>
    </div>

    <div id="mid-container" onmouseover="hideSelector()">
      <!-- LEFT-CONTAINER -->
      <span id="left-container">
      
      <div id="left">

	<div id="menu">
	
	  <table style="width:100%">	   
	    <tr>
	    <td id=data_file>
	    	   </br>
	    </td>
	    </tr>
	    <tr>
	    <td>
	    	XX/XX/19XX </br>
	    </td>
	    </tr>
	    <tr>
	    <td id=analysis_file>
	    	   </br>
	    </td>
	    </tr>
	    <tr>
	      <td></br>
	      </td>
	    </tr>
	    <tr>
	      <td>

	      </td>
	    </tr>
	    
	    
	  </table>
	  
	</div>
	
	<div id="display-bar">
	  <a class="smallbutton" onclick="decDisplayTop();"><</a>
	  top <span id=top_display></span>
	  <a class="smallbutton" onclick="incDisplayTop();">></a>
	  
	  <span id="fastTag0" class="tagColorBox tagColor0" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag1" class="tagColorBox tagColor1" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag2" class="tagColorBox tagColor2" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag3" class="tagColorBox tagColor3" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag4" class="tagColorBox tagColor4" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag5" class="tagColorBox tagColor5" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag6" class="tagColorBox tagColor6" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag7" class="tagColorBox tagColor7" onclick="nextDisplayTag(this)"></span>
	  <span id="fastTag8" class="tagColorBox tagColor8" onclick="nextDisplayTag(this)"></span>
	  <a class="button" onclick="showDisplayMenu();">>></a>
	</div>
	
	  <div id="listClones"></div>
	
	  <div id="listSelect"></div>

      </div>
	
      </span>
      
      
      <div id="visu-container">
	<!-- VISU -->
	<span id="visu2">
	  <script type="text/javascript" src="js/graph.js"> </script>
	  
	  <div id="switch"> 
	  
	    <div style="float:left; background:#333044; width:22px; height:22px; margin:5px; " onclick="switchVisu(30,70);"> 
	      <div style="background:white; width:100%; height:25%;"></div> 
	    </div>
	  
	    <div style="float:left; background:#333044; width:22px; height:22px; margin:5px; " onclick="switchVisu(50,50);"> 
	      <div style="background:white; width:100%; height:50%;"></div>
	    </div>
	    
	    <div style="float:left; background:#333044; width:22px; height:22px; margin:5px; " onclick="switchVisu(70,30);"> 
	      <div style="background:white; width:100%; height:75%;"></div>
	    </div>
	    
	    <div style="float:left; background:#333044; width:22px; height:22px; margin:5px; " onclick="switchVisu(100,0);"> 
	      <div style="background:white; width:100%; height:100%;"></div>
	    </div>
	    
	  </div>
	  
	</span>
	
	<span id="visu" onclick="">
	  <script type="text/javascript" src="js/visu.js"> </script>
	</span>
      </div>
      
      
    </div>
	
    <!-- BOT-CONTAINER -->
	<!--  
    <div id="bot-container">
      <div id="focus-sequence"> > </div>

      <div id="align" style="display:none">
	<ul id="listSeq"></ul>
      </div>
    </div>
	-->
    
    <div id="log" style="display:none; position: fixed; top: 50px;right: 10px;width: 500px; font-family : monaco,terminal,courier,system; height: 150px;overflow-y: scroll;font-size: 14px;background-color: #333044;opacity: 0.5;padding: 10px;">log </div>
    
    <div id="tagSelector">
    
    <div class="tagD button" onclick="$('#tagSelector').hide('fast')">close</div></br>
    
      <div>tag for <span id=tagname></span></div>
      <ul>
	<li onClick="selectTag(0)">
	  <div class="tagElem" ><span class="tagColorBox tagColor0"></span> <span class="tagName0 tn" id="tag0"></span></div>
	</li>
	<li onClick="selectTag(1)">
	  <div class="tagElem" ><span class="tagColorBox tagColor1"></span> <span class="tagName1 tn" id="tag1"></span></div>
	</li>
	<li onClick="selectTag(2)">
	  <div class="tagElem" ><span class="tagColorBox tagColor2"></span> <span class="tagName2 tn" id="tag2"></span></div>
	</li>
	<li onClick="selectTag(3)">
	  <div class="tagElem" ><span class="tagColorBox tagColor3"></span> <span class="tagName3 tn" id="tag3"></span></div>
	</li>
	<li onClick="selectTag(4)">
	  <div class="tagElem" ><span class="tagColorBox tagColor4"></span> <span class="tagName4 tn" id="tag4"></span></div>
	</li>
	<li onClick="selectTag(5)">
	  <div class="tagElem" ><span class="tagColorBox tagColor5"></span> <span class="tagName5 tn" id="tag5"></span></div>
	</li>
	<li onClick="selectTag(6)">
	  <div class="tagElem" ><span class="tagColorBox tagColor6"></span> <span class="tagName6 tn" id="tag6"></span></div>
	</li>
	<li onClick="selectTag(7)">
	  <div class="tagElem" ><span class="tagColorBox tagColor7"></span> <span class="tagName7 tn" id="tag7"></span></div>
	</li>
	<li onClick="selectTag(8)">
	  <div class="tagElem" ><span class="tagColorBox "></span> <span class="tagName8 tn" id="tag8"></span></div>
	</li>
	
      </ul>
    </div>
    
    <div id="display-menu">
    <span class="tagD button" onclick="showDisplayMenu()">close</span>
         <h2>Display menu</h2>
    
      <ul>
      
      
	<li>
	  <div> top <input id="rangeValue" type="text" size="3" value="10"
	  readonly="true">
	  <input id="top_slider" type="range" min="0" max="100" step="5" value="10" 
	  onchange="displayTop(this.value)" />
	  </div>
	</li>
	<li>
	<span class="tn"></span>
	<span class="tagD">hide</span>
	<span class="tagD">show</span>
	<span class="tagD">color</span>
	</li>
	<li>
	  <div id="tagDisplay0" class="tagElem"><span class="tagColorBox tagColor0"></span> <span class="tagName0 tn"></span>
	  <input class="tagD" type="radio" name="radio0" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio0" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio0" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay1" class="tagElem"><span class="tagColorBox tagColor1"></span> <span class="tagName1 tn"></span>
	  <input class="tagD" type="radio" name="radio1" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio1" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio1" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay2" class="tagElem"><span class="tagColorBox tagColor2"></span> <span class="tagName2 tn"></span>
	  <input class="tagD" type="radio" name="radio2" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio2" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio2" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay3" class="tagElem"><span class="tagColorBox tagColor3"></span> <span class="tagName3 tn"></span>
	  <input class="tagD" type="radio" name="radio3" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio3" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio3" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay4" class="tagElem"><span class="tagColorBox tagColor4"></span> <span class="tagName4 tn"></span>
	  <input class="tagD" type="radio" name="radio4" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio4" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio4" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay5" class="tagElem"><span class="tagColorBox tagColor5"></span> <span class="tagName5 tn"></span>
	  <input class="tagD" type="radio" name="radio5" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio5" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio5" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay6" class="tagElem"><span class="tagColorBox tagColor6"></span> <span class="tagName6 tn"></span>
	  <input class="tagD" type="radio" name="radio6" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio6" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio6" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay7" class="tagElem"><span class="tagColorBox tagColor7"></span> <span class="tagName7 tn"></span>
	  <input class="tagD" type="radio" name="radio7" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio7" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio7" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	<li>
	  <div id="tagDisplay8" class="tagElem"><span class="tagColorBox tagColor8"></span> <span class="tagName8 tn"></span>
	  <input class="tagD" type="radio" name="radio8" value=0 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio8" value=1 onclick="changeDisplayTag(this)">
	  <input class="tagD" type="radio" name="radio8" value=2 onclick="changeDisplayTag(this)">
	  </div>
	</li>
	
      </ul>
    </div>
    
    <!--
    <div id="dateSelector">
      <h2>select date (<span id="dateSelected"></span>)</h2>
      
      <div id="datepicker"></div>
 
      <script>
      $( "#datepicker" ).datepicker({ changeYear: true });
      </script>
    
      <button onclick="saveDate();">save</button> 
      <button onclick="cancelChangeDate();">cancel</button> 
    </div>
    -->
    
    <div id="bot-container">
    
      <div class="separator">
	<span class="button" onclick="mergeSelection()">merge</span>
	<span class="button" onclick="displayAlign()">show</span>
	<span class="button" onclick="hideAlign()">hide</span>
	<span class="button" onclick="align()">align</span>
	<span class="button" onclick="sendTo('IMGT')">IMGT</span>
	<span class="button" onclick="sendTo('igBlast')">igBlast</span>

      </div>
    
      <ul id="listSeq">
      </ul>
    </div>
    
    <div id="frame-container"></div>
    
  </body>
      
</html>

  
