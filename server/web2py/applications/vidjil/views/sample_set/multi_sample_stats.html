{{extend 'db_layout.html'}}

<div id="db_table_container">
    <table class="db_table" id="table">
        <thead>
	    <tr>
            {{ for h in data['headers']: }}
            <td class="{{=h}}">
                <span class="toggle {{=h}}"onclick="$('.content.{{=h}}').toggle(function() {if ($('.content.{{=h}}').is(':visible')) {$('.{{=h}}').width(''); $('.toggle.{{=h}}').text('[-]')} else {$('.{{=h}}').width('20px'); $('.toggle.{{=h}}').text('[+]')}})">[-]</span>
                <span class="content {{=h}}">{{=h}}</span>
            </td>
            {{ pass }}
        </tr>
        </thead>
        <tbody>
            {{ for res in data['results']: }}
                <tr>
                    {{ for h in data['headers']: }}
                    <td class="{{=h}}">
                        <span class="content {{=h}}">{{=res[h]}}</span>
                    </td>
                    {{ pass }}
                </tr>
            {{ pass }}
        </tbody>
    </table>
    <table class="db_table" id="db_fixed_header"></table>
</div>
